const a6_0x3cb3f9=a6_0x5e9a;(function(_0x3bf119,_0x4abef8){const _0x469cb4=a6_0x5e9a,_0x411041=_0x3bf119();while(!![]){try{const _0x2cd2aa=parseInt(_0x469cb4(0xbb))/0x1+-parseInt(_0x469cb4(0xad))/0x2*(-parseInt(_0x469cb4(0xbd))/0x3)+-parseInt(_0x469cb4(0xae))/0x4+-parseInt(_0x469cb4(0x9e))/0x5*(-parseInt(_0x469cb4(0xb7))/0x6)+-parseInt(_0x469cb4(0xb3))/0x7*(parseInt(_0x469cb4(0xaf))/0x8)+parseInt(_0x469cb4(0xa9))/0x9+parseInt(_0x469cb4(0xa5))/0xa*(parseInt(_0x469cb4(0xbf))/0xb);if(_0x2cd2aa===_0x4abef8)break;else _0x411041['push'](_0x411041['shift']());}catch(_0x43f4e2){_0x411041['push'](_0x411041['shift']());}}}(a6_0x3b37,0xe322b));const {expect}=require(a6_0x3cb3f9(0xa1)),{exportTodoTxt}=require(a6_0x3cb3f9(0xb5)),request=require('supertest'),uuid=require(a6_0x3cb3f9(0xc0))['v4'],app=require(a6_0x3cb3f9(0xa7)),db=require(a6_0x3cb3f9(0xa4)),helpers=require(a6_0x3cb3f9(0xac));describe(a6_0x3cb3f9(0xab),()=>{const _0x36b4d7=a6_0x3cb3f9;let _0x598144;before(async()=>{const _0x21bdb0=a6_0x5e9a;await db[_0x21bdb0(0xc1)](),_0x598144=await db[_0x21bdb0(0xb0)](_0x21bdb0(0xb1));}),after(async()=>{const _0x288d9a=a6_0x5e9a;await db[_0x288d9a(0xb6)]();}),afterEach(async()=>{await _0x598144['deleteMany']();}),describe(_0x36b4d7(0xb4),()=>{const _0x1e6374=_0x36b4d7;describe(_0x1e6374(0xa6),()=>{it('Возвращает\x20строковое\x20представление\x20записи\x20todo',()=>{const _0xdf1604=a6_0x5e9a,_0x1ede63={'completed':!![],'completedAt':new Date(),'title':_0xdf1604(0xa3)},_0x3ccef9=exportTodoTxt(_0x1ede63),_0x1dac4b=(_0x1ede63[_0xdf1604(0xbe)][_0xdf1604(0xc3)]()+0x1)[_0xdf1604(0xa2)]()[_0xdf1604(0xbc)](0x2,0x0),_0x45480b=_0x1ede63[_0xdf1604(0xbe)][_0xdf1604(0xaa)]()[_0xdf1604(0xa2)]()[_0xdf1604(0xbc)](0x2,0x0);expect(_0x3ccef9)['to']['equal']('x\x20'+_0x1ede63[_0xdf1604(0xbe)]['getFullYear']()+'-'+_0x1dac4b+'-'+_0x45480b+'\x20'+_0x1ede63[_0xdf1604(0xb8)]+'\x0a');});});}),describe(_0x36b4d7(0xa8),()=>{it('должен\x20поддерживать\x20формат\x20todotxt',async()=>{const _0x37cb65=a6_0x5e9a,_0x4a1518=helpers[_0x37cb65(0x9f)]()['email'],_0x2f3407=await helpers['createTodo']({'title':uuid(),'email':_0x4a1518});return new Promise((_0x498a20,_0x240b39)=>{const _0x1ff762=_0x37cb65;request(app[_0x1ff762(0xba)]())[_0x1ff762(0xb2)]('/api/v1/todos?contentType=todotxt')[_0x1ff762(0xb9)](0xc8)[_0x1ff762(0xb9)](_0x1ff762(0xa0),/text\/plain/)[_0x1ff762(0xb9)](exportTodoTxt(_0x2f3407))['then'](_0x498a20)[_0x1ff762(0xc2)](_0x240b39);});});});});function a6_0x5e9a(_0x58f98b,_0x16c8b7){const _0x3b371a=a6_0x3b37();return a6_0x5e9a=function(_0x5e9ad1,_0x5dd951){_0x5e9ad1=_0x5e9ad1-0x9e;let _0x12acfe=_0x3b371a[_0x5e9ad1];return _0x12acfe;},a6_0x5e9a(_0x58f98b,_0x16c8b7);}function a6_0x3b37(){const _0x74f3f6=['Content-Type','chai','toString','foo','../../src/model/db','487770Jllvmj','#exportTodoTxt','../../src/server.js','#GET\x20/api/v1/todos','5343966kYLnhX','getDate','Урок\x204.5','../helpers','2Pubzgr','5665508OMOwcv','2624bPPnwf','getCollection','todos','get','14224jRcPIz','model/todotxt.js','../../src/model/todotxt','close','3656226aiHQcb','title','expect','callback','313975cTxzjq','padStart','1489539dokDsI','completedAt','88zPuyyz','uuid','init','catch','getMonth','10VkHjtP','stubTestUser'];a6_0x3b37=function(){return _0x74f3f6;};return a6_0x3b37();}