const a9_0xdac2ff=a9_0x9944;function a9_0x49cd(){const _0x589d0d=['420380jsXEjM','init','slice','27469960cFnFGD','../../src/server.js','должен\x20возвращать\x20ошибку\x20404\x20если\x20пользователь\x20пытается\x20получить\x20доступ\x20к\x20данным\x20другого\x20пользователя','#DELETE\x20/api/v1/todos/:id','chai','delete','equal','expect','должен\x20включать\x20email-адрес\x20в\x20описание\x20задачи\x20из\x20списка\x20дел','#PATCH\x20/api/v1/todos/:id','Content-Type','location','должен\x20возвращать\x20ошибку\x20для\x20неаутентифицированных\x20пользователей','stringify','../../src/model/db','set','33078uFdoiG','Урок\x205.3','8ayqTZH','getTodo','1309806mWPZTt','#GET\x20/api/v1/todos','/api/v1/todos','stubTestUser','_id','8wfVKQb','headers','uuid','должен\x20фильтровать\x20данные\x20по\x20email-адресу\x20пользователя','close','catch','get','send','#GET\x20/api/v1/todo/:id','then','createTodo','282179hOQgTD','1813NrsDGo','5564648LbzSHq','должен\x20возвращать\x20ошибку,\x20если\x20todo\x20не\x20найден\x20(неверный\x20email)','post','callback','/api/v1/todos/','toString','patch','email','64242rNmHPZ','../helpers','application/json'];a9_0x49cd=function(){return _0x589d0d;};return a9_0x49cd();}function a9_0x9944(_0x5b7d98,_0x2a2e2c){const _0x49cdd8=a9_0x49cd();return a9_0x9944=function(_0x9944ce,_0x3c275b){_0x9944ce=_0x9944ce-0x1ca;let _0x3b7326=_0x49cdd8[_0x9944ce];return _0x3b7326;},a9_0x9944(_0x5b7d98,_0x2a2e2c);}(function(_0x36fcff,_0x371743){const _0x363c73=a9_0x9944,_0x350831=_0x36fcff();while(!![]){try{const _0x39dbba=parseInt(_0x363c73(0x1fd))/0x1*(parseInt(_0x363c73(0x1f2))/0x2)+parseInt(_0x363c73(0x1d3))/0x3+-parseInt(_0x363c73(0x1cb))/0x4+-parseInt(_0x363c73(0x1d6))/0x5+-parseInt(_0x363c73(0x1e9))/0x6*(parseInt(_0x363c73(0x1ca))/0x7)+parseInt(_0x363c73(0x1eb))/0x8*(-parseInt(_0x363c73(0x1ed))/0x9)+parseInt(_0x363c73(0x1d9))/0xa;if(_0x39dbba===_0x371743)break;else _0x350831['push'](_0x350831['shift']());}catch(_0x34c96b){_0x350831['push'](_0x350831['shift']());}}}(a9_0x49cd,0xcf267));const {expect}=require(a9_0xdac2ff(0x1dd)),request=require('supertest'),uuid=require(a9_0xdac2ff(0x1f4))['v4'],app=require(a9_0xdac2ff(0x1da)),db=require(a9_0xdac2ff(0x1e7)),helpers=require(a9_0xdac2ff(0x1d4));describe(a9_0xdac2ff(0x1ea),()=>{const _0x464375=a9_0xdac2ff;beforeEach(async()=>{const _0x329962=a9_0x9944;await db[_0x329962(0x1d7)]();}),afterEach(async()=>{const _0x12afa9=a9_0x9944;await helpers['dropDb'](),await db[_0x12afa9(0x1f6)]();}),describe(_0x464375(0x1ee),()=>{const _0x156771=_0x464375;it(_0x156771(0x1e5),async()=>{const _0x439f25=_0x156771;return await helpers[_0x439f25(0x1fc)]({'title':uuid(),'email':uuid()}),new Promise((_0x75532c,_0x5d971c)=>{const _0x13cd7c=_0x439f25;request(app[_0x13cd7c(0x1ce)]())[_0x13cd7c(0x1f8)](_0x13cd7c(0x1ef))[_0x13cd7c(0x1e0)](0x191)[_0x13cd7c(0x1fb)](_0x75532c)[_0x13cd7c(0x1f7)](_0x5d971c);});}),it(_0x156771(0x1f5),async()=>{const _0x4d5b09=_0x156771,_0x3de0b7=helpers[_0x4d5b09(0x1f0)]()[_0x4d5b09(0x1d2)];await helpers[_0x4d5b09(0x1fc)]({'foo':uuid(),'email':uuid()});const _0x3080d5=await helpers[_0x4d5b09(0x1fc)]({'foo':uuid(),'email':_0x3de0b7});return new Promise((_0x5b439c,_0x1d8157)=>{const _0x5308ba=_0x4d5b09;request(app[_0x5308ba(0x1ce)]())['get'](_0x5308ba(0x1ef))[_0x5308ba(0x1e0)](0xc8)[_0x5308ba(0x1fb)](_0x148842=>{const _0x43bbfd=_0x5308ba;expect(_0x148842['body'])['to']['deep'][_0x43bbfd(0x1df)]([{..._0x3080d5,'_id':_0x3080d5[_0x43bbfd(0x1f1)][_0x43bbfd(0x1d0)]()}]),_0x5b439c();})['catch'](_0x1d8157);});});}),describe(_0x464375(0x1fa),()=>{const _0x53f6ee=_0x464375;it(_0x53f6ee(0x1e5),async()=>{const _0x1699aa=_0x53f6ee,_0x5726d4=await helpers[_0x1699aa(0x1fc)]({'title':uuid(),'email':uuid()});return new Promise((_0xc1933e,_0x172467)=>{const _0x482b56=_0x1699aa;request(app[_0x482b56(0x1ce)]())[_0x482b56(0x1f8)](_0x482b56(0x1cf)+_0x5726d4['_id'])[_0x482b56(0x1e0)](0x191)[_0x482b56(0x1fb)](_0xc1933e)[_0x482b56(0x1f7)](_0x172467);});}),it(_0x53f6ee(0x1db),async()=>{const _0x2fb67f=_0x53f6ee;helpers[_0x2fb67f(0x1f0)]();const _0x5deede=await helpers[_0x2fb67f(0x1fc)]({'foo':uuid(),'email':uuid()});return new Promise((_0x4a8b69,_0x2b93b6)=>{const _0x316b2e=_0x2fb67f;request(app[_0x316b2e(0x1ce)]())[_0x316b2e(0x1f8)](_0x316b2e(0x1cf)+_0x5deede['_id'])['expect'](0x194)[_0x316b2e(0x1fb)](_0x4a8b69)[_0x316b2e(0x1f7)](_0x2b93b6);});});}),describe('#POST\x20/api/v1/todos',()=>{const _0x1f106f=_0x464375;it(_0x1f106f(0x1e1),async()=>{const _0x2dcbc8=_0x1f106f,_0x406864=helpers[_0x2dcbc8(0x1f0)]()[_0x2dcbc8(0x1d2)],_0xacf72e={'title':uuid(),'completed':!![]};return new Promise((_0x184d7c,_0x51f3ef)=>{const _0x200853=_0x2dcbc8;request(app[_0x200853(0x1ce)]())[_0x200853(0x1cd)](_0x200853(0x1cf))[_0x200853(0x1e8)](_0x200853(0x1e3),_0x200853(0x1d5))['send'](JSON['stringify'](_0xacf72e))['expect'](0xc9)[_0x200853(0x1e0)]('location',/\/api\/v1\/todos\//)[_0x200853(0x1fb)](_0x2111bb=>{const _0x34cf7f=_0x200853,_0x37f5f6=_0x2111bb[_0x34cf7f(0x1f3)][_0x34cf7f(0x1e4)]['split']('/')[_0x34cf7f(0x1d8)](-0x1)[0x0];return helpers[_0x34cf7f(0x1ec)](_0x37f5f6);})['then'](({_id:_0x233a54,completedAt:_0x244fdd,..._0x44fc9a})=>{const _0x576e77=_0x200853;expect(_0x44fc9a[_0x576e77(0x1d2)])['to'][_0x576e77(0x1df)](_0x406864);})[_0x200853(0x1fb)](_0x184d7c)[_0x200853(0x1f7)](_0x51f3ef);});});}),describe(_0x464375(0x1dc),()=>{const _0x5abe6c=_0x464375;it(_0x5abe6c(0x1cc),async()=>{const _0x1a8d38=_0x5abe6c;helpers[_0x1a8d38(0x1f0)]();const _0x5efa9f=await helpers[_0x1a8d38(0x1fc)]({'foo':uuid(),'email':uuid()});return new Promise((_0x4cd0c4,_0x3e4173)=>{const _0x29b8ea=_0x1a8d38;request(app['callback']())[_0x29b8ea(0x1de)](_0x29b8ea(0x1cf)+_0x5efa9f[_0x29b8ea(0x1f1)])['expect'](0x194)['then'](_0x4cd0c4)[_0x29b8ea(0x1f7)](_0x3e4173);});}),it(_0x5abe6c(0x1e5),async()=>{const _0x19330a=_0x5abe6c,_0x254d55=await helpers[_0x19330a(0x1fc)]({'title':uuid(),'email':uuid()});return new Promise((_0x3467d2,_0x104604)=>{const _0x3b2b93=_0x19330a;request(app[_0x3b2b93(0x1ce)]())[_0x3b2b93(0x1de)](_0x3b2b93(0x1cf)+_0x254d55[_0x3b2b93(0x1f1)])[_0x3b2b93(0x1e0)](0x191)[_0x3b2b93(0x1fb)](_0x3467d2)['catch'](_0x104604);});});}),describe(_0x464375(0x1e2),()=>{const _0x110dd7=_0x464375,_0x50703f={'title':uuid()};it(_0x110dd7(0x1cc),async()=>{const _0x449833=_0x110dd7;helpers['stubTestUser']();const _0x41b5c4=await helpers[_0x449833(0x1fc)]({'foo':uuid(),'email':uuid()});return new Promise((_0x572c56,_0x4a5a5a)=>{const _0x39bb8d=_0x449833;request(app[_0x39bb8d(0x1ce)]())[_0x39bb8d(0x1d1)](_0x39bb8d(0x1cf)+_0x41b5c4[_0x39bb8d(0x1f1)])[_0x39bb8d(0x1e8)](_0x39bb8d(0x1e3),'application/json')[_0x39bb8d(0x1f9)](JSON[_0x39bb8d(0x1e6)](_0x50703f))[_0x39bb8d(0x1e0)](0x194)[_0x39bb8d(0x1fb)](_0x572c56)[_0x39bb8d(0x1f7)](_0x4a5a5a);});}),it(_0x110dd7(0x1e5),async()=>{const _0x904de4=_0x110dd7,_0x4a80bc=await helpers[_0x904de4(0x1fc)]({'title':uuid(),'email':uuid()});return new Promise((_0x4995d7,_0x49499f)=>{const _0x2f667a=_0x904de4;request(app[_0x2f667a(0x1ce)]())[_0x2f667a(0x1d1)](_0x2f667a(0x1cf)+_0x4a80bc[_0x2f667a(0x1f1)])[_0x2f667a(0x1e8)]('Content-Type','application/json')[_0x2f667a(0x1f9)](JSON['stringify'](_0x50703f))[_0x2f667a(0x1e0)](0x191)[_0x2f667a(0x1fb)](_0x4995d7)[_0x2f667a(0x1f7)](_0x49499f);});});});});