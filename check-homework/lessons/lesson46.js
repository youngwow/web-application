const a7_0x573871=a7_0x39e4;(function(_0x3730d0,_0x386236){const _0x568328=a7_0x39e4,_0x1d75df=_0x3730d0();while(!![]){try{const _0x220560=parseInt(_0x568328(0x103))/0x1+parseInt(_0x568328(0xe5))/0x2+parseInt(_0x568328(0x101))/0x3+-parseInt(_0x568328(0xea))/0x4+-parseInt(_0x568328(0xe0))/0x5*(parseInt(_0x568328(0x100))/0x6)+parseInt(_0x568328(0xf3))/0x7+-parseInt(_0x568328(0xff))/0x8;if(_0x220560===_0x386236)break;else _0x1d75df['push'](_0x1d75df['shift']());}catch(_0x1fbb2c){_0x1d75df['push'](_0x1d75df['shift']());}}}(a7_0x3075,0x7e11b));const {expect}=require(a7_0x573871(0xdc)),uuid=require(a7_0x573871(0xe4))['v4'],fs=require('fs')[a7_0x573871(0xdf)],path=require(a7_0x573871(0x102)),{tmpdir}=require('os'),request=require(a7_0x573871(0x10a)),db=require('../../src/model/db'),{createTodosFromText}=require(a7_0x573871(0xd9)),helpers=require(a7_0x573871(0xf4)),app=require(a7_0x573871(0xec));function a7_0x39e4(_0x4bd53c,_0x2c4044){const _0x3075dd=a7_0x3075();return a7_0x39e4=function(_0x39e403,_0x25689b){_0x39e403=_0x39e403-0xd9;let _0xc2d2ca=_0x3075dd[_0x39e403];return _0xc2d2ca;},a7_0x39e4(_0x4bd53c,_0x2c4044);}describe(a7_0x573871(0xf2),()=>{const _0xcc14cb=a7_0x573871;describe(_0xcc14cb(0xdd),()=>{const _0x1dc233=_0xcc14cb;let _0x439cdb;before(async()=>{const _0x5cce96=a7_0x39e4;await db[_0x5cce96(0xfa)](),_0x439cdb=await db[_0x5cce96(0xef)](_0x5cce96(0x104));}),after(async()=>{const _0x366a1f=a7_0x39e4;await db[_0x366a1f(0x105)]();}),afterEach(async()=>{const _0x597dea=a7_0x39e4;await _0x439cdb[_0x597dea(0xe7)]();}),it(_0x1dc233(0xf9),async()=>{const _0x4f976b=_0x1dc233;helpers[_0x4f976b(0xe9)]();const {filePath:_0x3de9e3,todo:_0x18861d}=await helpers[_0x4f976b(0xf6)]();await new Promise((_0x17b8c5,_0xce16c0)=>{const _0x19f992=_0x4f976b;request(app[_0x19f992(0xda)]())[_0x19f992(0xf8)]('/api/v1/todos')[_0x19f992(0xfe)](_0x19f992(0x106),_0x19f992(0xe1))[_0x19f992(0xfb)](_0x19f992(0xe1),_0x3de9e3)[_0x19f992(0xed)](0xc9)[_0x19f992(0xe6)](_0x30c825=>{const _0x4c2061=_0x19f992;expect(_0x30c825[_0x4c2061(0x108)])['to'][_0x4c2061(0x109)][_0x4c2061(0x107)](0x1),expect(_0x30c825[_0x4c2061(0x108)][0x0])['to'][_0x4c2061(0xe8)][_0x4c2061(0xf7)]({'completed':_0x18861d[_0x4c2061(0xf1)],'completedAt':_0x18861d[_0x4c2061(0xeb)][_0x4c2061(0xee)](),'title':_0x18861d[_0x4c2061(0xfc)]});})[_0x19f992(0xe6)](_0x17b8c5)[_0x19f992(0xe3)](_0xce16c0);});});}),describe(_0xcc14cb(0xf0),()=>{const _0x1d71db=_0xcc14cb;let _0x1691bf;before(async()=>{const _0x2efe77=a7_0x39e4;await db['init'](),_0x1691bf=await db[_0x2efe77(0xef)]('todos');}),after(async()=>{const _0x3ccdd3=a7_0x39e4;await db[_0x3ccdd3(0x105)]();}),afterEach(async()=>{const _0x566377=a7_0x39e4;await _0x1691bf[_0x566377(0xe7)]();}),describe(_0x1d71db(0xfd),()=>{const _0x33be9f=uuid();let _0x2b001b;async function _0xd6a031(){const _0x4ee34d=a7_0x39e4;_0x2b001b=path[_0x4ee34d(0xde)](tmpdir(),uuid()),await fs['writeFile'](_0x2b001b,'x\x202020-01-01\x20'+_0x33be9f+'\x0a');}afterEach(async()=>{if(!_0x2b001b)return;await fs['unlink'](_0x2b001b);}),it('Создает\x20todo\x20из\x20файла\x20в\x20формате\x20todo.txt',async()=>{const _0x5ee6f1=a7_0x39e4,_0x5660d5=uuid();await _0xd6a031(),await createTodosFromText(_0x2b001b,_0x5660d5);const _0x3e613c=await _0x1691bf[_0x5ee6f1(0xdb)]()[_0x5ee6f1(0xe2)](),_0x38fcaf=_0x3e613c['map'](({_id:_0x3ad33a,..._0x6c718a})=>_0x6c718a);expect(_0x38fcaf)['to'][_0x5ee6f1(0xe8)]['have'][_0x5ee6f1(0xf5)]([{'completed':!![],'completedAt':new Date(0x7e4,0x0,0x1),'email':_0x5660d5,'title':_0x33be9f}]);});});});});function a7_0x3075(){const _0x2e7377=['4180190RGAgOv','../helpers','members','createTodoTxt','include','post','должен\x20создавать\x20todo\x20на\x20основе\x20todotxt','init','attach','title','#createTodosFromText','field','6508592chrRZk','6rVzdXF','240606dhMHVK','path','554554eyTtKQ','todos','close','contentType','lengthOf','body','have','supertest','../../src/model/todo','callback','find','chai','#POST\x20/api/v1/todos','join','promises','4584205lyiIix','todotxt','toArray','catch','uuid','2061942srVpeY','then','deleteMany','deep','stubTestUser','64412QAvvhl','completedAt','../../src/server.js','expect','toISOString','getCollection','model/todo.js','completed','Урок\x204.6'];a7_0x3075=function(){return _0x2e7377;};return a7_0x3075();}