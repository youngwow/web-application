const a5_0x763d42=a5_0x2783;(function(_0x15a541,_0x22ba81){const _0x950972=a5_0x2783,_0x23d762=_0x15a541();while(!![]){try{const _0x4d506b=parseInt(_0x950972(0x1ab))/0x1*(-parseInt(_0x950972(0x1aa))/0x2)+-parseInt(_0x950972(0x1c2))/0x3*(parseInt(_0x950972(0x1ac))/0x4)+-parseInt(_0x950972(0x1be))/0x5*(parseInt(_0x950972(0x1a6))/0x6)+-parseInt(_0x950972(0x1b4))/0x7+parseInt(_0x950972(0x1ba))/0x8*(parseInt(_0x950972(0x1c5))/0x9)+parseInt(_0x950972(0x1b7))/0xa+parseInt(_0x950972(0x1a7))/0xb*(parseInt(_0x950972(0x19b))/0xc);if(_0x4d506b===_0x22ba81)break;else _0x23d762['push'](_0x23d762['shift']());}catch(_0x261450){_0x23d762['push'](_0x23d762['shift']());}}}(a5_0x1f1b,0xac070));const {expect}=require(a5_0x763d42(0x19e)),helpers=require(a5_0x763d42(0x1a3)),uuid=require(a5_0x763d42(0x1af))['v4'],db=require('../../src/model/db'),{deleteTodo}=require(a5_0x763d42(0x1c7)),request=require(a5_0x763d42(0x1b8)),app=require('../../src/server.js');function a5_0x1f1b(){const _0x462a08=['deleteMany','catch','then','../helpers','_id','init','89286slXPDn','187VlMdyW','getTodo','Не\x20удаляет\x20todo\x20при\x20частичном\x20совпадении\x20критериев\x20поиска','8SgvDQs','229579VElFSQ','72AwKzRL','deep','close','uuid','members','stubTestUser','callback','должен\x20удалять\x20todo\x20по\x20идентификатору','7671356JygeVY','find','email','11626620OGCGEP','supertest','Урок\x204.4','1879208btUiZV','toString','all','equal','150UfwVKx','getCollection','#DELETE\x20/api/v1/todos/:id','model/todo.js','106089lCuvXm','toArray','/api/v1/todos/','27LbVtFW','delete','../../src/model/todo','1365492LsuOVK','true','have','chai','createTodo'];a5_0x1f1b=function(){return _0x462a08;};return a5_0x1f1b();}function a5_0x2783(_0x284367,_0x57ae6d){const _0x1f1ba2=a5_0x1f1b();return a5_0x2783=function(_0x278373,_0x946dcc){_0x278373=_0x278373-0x19b;let _0x2506ba=_0x1f1ba2[_0x278373];return _0x2506ba;},a5_0x2783(_0x284367,_0x57ae6d);}describe(a5_0x763d42(0x1b9),()=>{const _0x3d1b30=a5_0x763d42;let _0x231da1;before(async()=>{const _0x1671c3=a5_0x2783;await db[_0x1671c3(0x1a5)](),_0x231da1=await db[_0x1671c3(0x1bf)]('todos');}),after(async()=>{const _0x58a029=a5_0x2783;await db[_0x58a029(0x1ae)]();}),afterEach(async()=>{const _0x382ac6=a5_0x2783;await _0x231da1[_0x382ac6(0x1a0)]();}),describe(_0x3d1b30(0x1c1),()=>{describe('#deleteTodo',()=>{const _0x4d5cc9=a5_0x2783;it('Удаляет\x20todo\x20по\x20заданным\x20критериям',async()=>{const _0xd3bfea=a5_0x2783,[_0x262d79,_0x59df07]=await Promise[_0xd3bfea(0x1bc)]([helpers[_0xd3bfea(0x19f)]({'email':uuid()}),helpers[_0xd3bfea(0x19f)]({'email':uuid()})]),_0x50a594=await deleteTodo(_0x262d79),_0x196544=await _0x231da1[_0xd3bfea(0x1b5)]()[_0xd3bfea(0x1c3)]();expect(_0x50a594)['to']['be'][_0xd3bfea(0x19c)],expect(_0x196544)['to']['deep'][_0xd3bfea(0x1bd)]([_0x59df07]);}),it('Преобразовывает\x20строковое\x20представление\x20_id\x20к\x20ObjectID',async()=>{const _0x298ba2=a5_0x2783,[_0x21f01d,_0x1aa2d6]=await Promise[_0x298ba2(0x1bc)]([helpers['createTodo']({'email':uuid()}),helpers['createTodo']({'email':uuid()})]);await deleteTodo({'_id':_0x21f01d[_0x298ba2(0x1a4)][_0x298ba2(0x1bb)]()});const _0x3abbb9=await _0x231da1[_0x298ba2(0x1b5)]()[_0x298ba2(0x1c3)]();expect(_0x3abbb9)['to'][_0x298ba2(0x1ad)]['equal']([_0x1aa2d6]);}),it(_0x4d5cc9(0x1a9),async()=>{const _0x3e202c=_0x4d5cc9,_0x3e7699=await Promise[_0x3e202c(0x1bc)]([helpers[_0x3e202c(0x19f)]({'email':uuid()}),helpers[_0x3e202c(0x19f)]({'email':uuid()})]);await deleteTodo({'_id':_0x3e7699[0x0][_0x3e202c(0x1a4)],'email':uuid()});const _0x1ae5c7=await _0x231da1['find']()[_0x3e202c(0x1c3)]();expect(_0x1ae5c7)['to'][_0x3e202c(0x1ad)][_0x3e202c(0x19d)][_0x3e202c(0x1b0)](_0x3e7699);});});}),describe(_0x3d1b30(0x1c0),()=>{const _0x568305=_0x3d1b30;it(_0x568305(0x1b3),async()=>{const _0x151249=_0x568305,_0x18785b=helpers[_0x151249(0x1b1)]()[_0x151249(0x1b6)],_0x431854=await helpers[_0x151249(0x19f)]({'foo':uuid(),'email':_0x18785b});return new Promise((_0x367d86,_0x1a8295)=>{const _0x11ee23=_0x151249;request(app[_0x11ee23(0x1b2)]())[_0x11ee23(0x1c6)](_0x11ee23(0x1c4)+_0x431854[_0x11ee23(0x1a4)])['expect'](0xcc)[_0x11ee23(0x1a2)](_0x14e23d=>{const _0x129932=_0x11ee23;return helpers[_0x129932(0x1a8)](_0x431854[_0x129932(0x1a4)]);})[_0x11ee23(0x1a2)](_0x317adb=>expect(_0x317adb)['to']['be']['null'])[_0x11ee23(0x1a2)](_0x367d86)[_0x11ee23(0x1a1)](_0x1a8295);});});});});